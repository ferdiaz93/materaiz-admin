import{y as c,a as e,I as C,q as m,j as t,c as T,C as x,E as u,L as v,e as y,G as b,H as A,F,W as L,A as N,J as B}from"./index-b7d380d3.js";import{u as D,a as O}from"./orderRepository-5b48871f.js";import{u as P,c as S,C as p,a as E}from"./styles-d2076309.js";import{u as G,T as I,a as k,b as w}from"./useTableQuery-b2c92c06.js";import{T as h}from"./TemplateTextField-37be45ad.js";import{f as M}from"./formatText-85b98f5a.js";import{C as R,a as _}from"./CustomBreadcrumbs-a2ae44ce.js";import"./Close-4b18e9b3.js";import"./InputAdornment-df11fb81.js";import"./KeyboardArrowRight-8229cc2c.js";const $=({data:n,isLoading:i,onDelete:a})=>{const s=P({defaultValues:{customer:"",email:""}}),[l,d]=c.useState(null),o=c.useRef(),f=G([{field:"id",headerName:"ID",type:"string"},{field:"customer",headerName:"Cliente",type:"string",valueGetter:r=>M(`${r.row.first_name} ${r.row.last_name}`)},{field:"email",headerName:"Email",type:"string"},{field:"total_amount",headerName:"Total",type:"string",valueGetter:r=>`$${Number(r.value).toLocaleString()}`},{field:"action",headerName:"Acciones",type:"actions",renderCell:r=>e(C,{onClick:g=>{o.current=Number(r.id),d(g.currentTarget)},children:e(m,{icon:"eva:more-vertical-fill"})})}]);return t(T,{sx:{height:600},children:[e(I,{filter:{hf:s,render:t(S,{children:[e(p,{name:"customer",render:r=>e(h,{...r,label:"Cliente",placeholder:"Buscar por nombre"})}),e(p,{name:"email",render:r=>e(h,{...r,label:"Email",placeholder:"Buscar por email"})}),t(E,{children:[e(k,{}),e(w,{})]})]})},disableRowSelectionOnClick:!0,rows:n,columns:f,loading:i}),t(x,{open:l,onClose:()=>{d(null),o.current=void 0},arrow:"right-top",children:[t(u,{onClick:()=>{d(null),a(o.current)},sx:{color:"error.main"},children:[e(m,{icon:"eva:trash-2-outline"}),"Eliminar"]}),t(u,{component:v,to:y.dashboard.orders.details(o.current),children:[e(m,{icon:"eva:eye-fill"}),"Ver detalles"]})]})]})};function X(){const{themeStretch:n}=b(),i=A(),a=D(),s=O();return t(F,{children:[e(L,{children:t("title",{children:[" Órdenes de compra| ",N," "]})}),t(B,{maxWidth:n?!1:"lg",children:[e(R,{heading:"Listado - Órdenes de compra",links:[{name:"Listado"}]}),e(_,{sx:{height:600},children:e($,{data:a.data,isLoading:a.isLoading,onDelete:l=>i({action:()=>s.mutateAsync(l)})})})]})]})}export{X as OrdersListPage,X as default};
