import{b,u as h,j as a,c as w,a as e,S as n,d as p,e as g,L as u,f as x,g as m,T as c,F as y,W as T,A as S}from"./index-b7d380d3.js";import{L as A,A as L}from"./AuthWithSocial-c70f4152.js";import{o as F}from"./yup-f2b37846.js";import{u as v,T as P,C as d,G as _,a as j,b as E}from"./styles-d2076309.js";import{T as k}from"./TemplatePasswordField-a2b88da9.js";import{T as B}from"./TemplateTextField-37be45ad.js";import{A as C}from"./Alert-cafeeeee.js";import"./Image-c211d0e8.js";import"./InputAdornment-df11fb81.js";import"./Close-4b18e9b3.js";const W=o=>x().shape({email:m().label("Email").email().required(),password:m().required().label(o("login.password"))}),$={email:"",password:""};function q(){var l;const{login:o}=b(),{t:i}=h(),t=v({resolver:F(W(i)),defaultValues:$}),f=async r=>{try{await o({email:r.email,password:r.password})}catch(s){console.error(s),t.reset(),t.setError("afterSubmit",{...s,message:s.message})}};return a(w,{children:[!!t.formState.errors.afterSubmit&&e(C,{severity:"error",sx:{marginBottom:4},children:(l=t.formState.errors.afterSubmit)==null?void 0:l.message}),a(P,{hf:t,onSubmit:f,children:[e(d,{name:"email",render:r=>e(B,{...r,label:"Email",placeholder:"john_doe@example.com"})}),e(d,{name:"password",render:r=>e(k,{...r,label:i("login.password"),placeholder:"********"})}),e(_,{item:!0,xs:12,children:e(n,{alignItems:"flex-end",children:e(p,{to:g.auth.forgotPassword,component:u,variant:"body2",color:"inherit",underline:"always",children:i("login.forgot_password")})})}),e(j,{children:e(E,{fullWidth:!0,size:"large",sx:{bgcolor:"text.primary",color:r=>r.palette.mode==="light"?"common.white":"grey.800","&:hover":{bgcolor:"text.primary",color:r=>r.palette.mode==="light"?"common.white":"grey.800"}},children:i("login.access")})})]})]})}function G(){const{t:o}=h();return a(A,{children:[a(n,{spacing:2,sx:{mb:5,position:"relative"},children:[e(c,{variant:"h4",children:o("login.log_in")}),a(n,{direction:"row",spacing:.5,children:[e(c,{variant:"body2",children:o("login.new_user")}),e(p,{to:g.auth.register,component:u,variant:"subtitle2",children:o("login.create_account")})]})]}),e(q,{}),e(L,{})]})}function Q(){return a(y,{children:[e(T,{children:a("title",{children:[" Login | ",S]})}),e(G,{})]})}export{Q as default};
