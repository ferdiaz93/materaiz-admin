import{y as i,a as e,I as f,q as l,j as t,c as g,C,E as x,L as T,e as y,G as v,F as b,W as F,A as M,J as L}from"./index-b7d380d3.js";import{u as N}from"./contactMessageRepository-b5ad51d2.js";import{C as A,a as B}from"./CustomBreadcrumbs-a2ae44ce.js";import{u as D,c as P,C as c,a as S}from"./styles-d2076309.js";import{u as w,T as G,a as I,b as E}from"./useTableQuery-b2c92c06.js";import{T as m}from"./TemplateTextField-37be45ad.js";import{f as j}from"./formatText-85b98f5a.js";import"./Close-4b18e9b3.js";import"./InputAdornment-df11fb81.js";import"./KeyboardArrowRight-8229cc2c.js";const k=({data:s,isLoading:r})=>{const d=D({defaultValues:{customer:"",email:""}}),[u,n]=i.useState(null),o=i.useRef(),p=w([{field:"id",headerName:"ID",type:"string"},{field:"customer",headerName:"Cliente",type:"string",valueGetter:a=>j(`${a.row.first_name} ${a.row.last_name}`)},{field:"email",headerName:"Email",type:"string"},{field:"message",headerName:"Mensaje",type:"string",flex:1},{field:"created_at",headerName:"Fecha",type:"string",valueGetter:a=>new Date(a.value).toLocaleDateString()},{field:"action",headerName:"Acciones",type:"actions",renderCell:a=>e(f,{onClick:h=>{o.current=Number(a.id),n(h.currentTarget)},children:e(l,{icon:"eva:more-vertical-fill"})})}]);return t(g,{sx:{height:600},children:[e(G,{filter:{hf:d,render:t(P,{children:[e(c,{name:"customer",render:a=>e(m,{...a,label:"Cliente",placeholder:"Buscar por nombre"})}),e(c,{name:"email",render:a=>e(m,{...a,label:"Email",placeholder:"Buscar por email"})}),t(S,{children:[e(I,{}),e(E,{})]})]})},disableRowSelectionOnClick:!0,rows:s,columns:p,loading:r}),e(C,{open:u,onClose:()=>{n(null),o.current=void 0},arrow:"right-top",children:t(x,{component:T,to:y.dashboard.contactMessages.details(o.current),children:[e(l,{icon:"eva:eye-fill"}),"Ver detalles"]})})]})};function z(){const{themeStretch:s}=v(),r=N();return t(b,{children:[e(F,{children:t("title",{children:[" Consultas | ",M," "]})}),t(L,{maxWidth:s?!1:"lg",children:[e(A,{heading:"Listado - Consultas",links:[{name:"Listado"}]}),e(B,{sx:{height:600},children:e(k,{data:r.data,isLoading:r.isLoading})})]})]})}export{z as ContactMessagesListPage,z as default};
