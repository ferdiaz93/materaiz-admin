import{K as Se,N as ve,s as H,O as Ue,Q as Oe,_ as f,y as d,R as ge,U as ne,V as F,j as B,X as Ce,Y as ut,Z as He,$ as De,a as u,a0 as _e,a1 as le,z as bt,a2 as be,a3 as ft,f as Xe,g as he,t as pt,a4 as ht,a5 as mt,k as St,i as vt,G as gt,F as Ct,W as xt,A as wt,J as yt,e as fe}from"./index-b7d380d3.js";import{c as Bt,d as Tt,e as Et}from"./userRepository-01f4bfda.js";import{C as It,a as Ne}from"./CustomBreadcrumbs-a2ae44ce.js";import{o as Ve}from"./yup-f2b37846.js";import{u as Ye,T as qe,C as me,a as Ke,b as je}from"./styles-d2076309.js";import{T as $e}from"./TemplatePasswordField-a2b88da9.js";import{T as Mt}from"./TemplateTextField-37be45ad.js";import{K as Pt,a as Rt}from"./KeyboardArrowRight-8229cc2c.js";import"./InputAdornment-df11fb81.js";let Y;function Ge(){if(Y)return Y;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),Y="reverse",e.scrollLeft>0?Y="default":(e.scrollLeft=1,e.scrollLeft===0&&(Y="negative")),document.body.removeChild(e),Y}function Wt(e,t){const r=e.scrollLeft;if(t!=="rtl")return r;switch(Ge()){case"negative":return e.scrollWidth-e.clientWidth+r;case"reverse":return e.scrollWidth-e.clientWidth-r;default:return r}}function zt(e){return ve("MuiTab",e)}const Nt=Se("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),$=Nt,$t=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Ft=e=>{const{classes:t,textColor:r,fullWidth:s,wrapped:n,icon:i,label:m,selected:h,disabled:b}=e,g={root:["root",i&&m&&"labelIcon",`textColor${Oe(r)}`,s&&"fullWidth",n&&"wrapped",h&&"selected",b&&"disabled"],iconWrapper:["iconWrapper"]};return Ce(g,zt,t)},At=H(Ue,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.label&&r.icon&&t.labelIcon,t[`textColor${Oe(r.textColor)}`],r.fullWidth&&t.fullWidth,r.wrapped&&t.wrapped,{[`& .${$.iconWrapper}`]:t.iconWrapper}]}})(({theme:e,ownerState:t})=>f({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${$.iconWrapper}`]:f({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${$.selected}`]:{opacity:1},[`&.${$.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${$.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${$.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${$.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${$.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),Lt=d.forwardRef(function(t,r){const s=ge({props:t,name:"MuiTab"}),{className:n,disabled:i=!1,disableFocusRipple:m=!1,fullWidth:h,icon:b,iconPosition:g="top",indicator:x,label:v,onChange:S,onClick:T,onFocus:A,selected:E,selectionFollowsFocus:w,textColor:D="inherit",value:P,wrapped:se=!1}=s,_=ne(s,$t),q=f({},s,{disabled:i,disableFocusRipple:m,selected:E,icon:!!b,iconPosition:g,label:!!v,fullWidth:h,textColor:D,wrapped:se}),X=Ft(q),L=b&&v&&d.isValidElement(b)?d.cloneElement(b,{className:F(X.iconWrapper,b.props.className)}):b,J=R=>{!E&&S&&S(R,P),T&&T(R)},V=R=>{w&&!E&&S&&S(R,P),A&&A(R)};return B(At,f({focusRipple:!m,className:F(X.root,n),ref:r,role:"tab","aria-selected":E,disabled:i,onClick:J,onFocus:V,ownerState:q,tabIndex:E?0:-1},_,{children:[g==="top"||g==="start"?B(d.Fragment,{children:[L,v]}):B(d.Fragment,{children:[v,L]}),x]}))}),Fe=Lt;function kt(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function Ut(e,t,r,s={},n=()=>{}){const{ease:i=kt,duration:m=300}=s;let h=null;const b=t[e];let g=!1;const x=()=>{g=!0},v=S=>{if(g){n(new Error("Animation cancelled"));return}h===null&&(h=S);const T=Math.min(1,(S-h)/m);if(t[e]=i(T)*(r-b)+b,T>=1){requestAnimationFrame(()=>{n(null)});return}requestAnimationFrame(v)};return b===r?(n(new Error("Element already at target position")),x):(requestAnimationFrame(v),x)}const Ot=["onChange"],Ht={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Dt(e){const{onChange:t}=e,r=ne(e,Ot),s=d.useRef(),n=d.useRef(null),i=()=>{s.current=n.current.offsetHeight-n.current.clientHeight};return ut(()=>{const m=He(()=>{const b=s.current;i(),b!==s.current&&t(s.current)}),h=De(n.current);return h.addEventListener("resize",m),()=>{m.clear(),h.removeEventListener("resize",m)}},[t]),d.useEffect(()=>{i(),t(s.current)},[t]),u("div",f({style:Ht},r,{ref:n}))}function _t(e){return ve("MuiTabScrollButton",e)}const Xt=Se("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Vt=Xt,Yt=["className","slots","slotProps","direction","orientation","disabled"],qt=e=>{const{classes:t,orientation:r,disabled:s}=e;return Ce({root:["root",r,s&&"disabled"]},_t,t)},Kt=H(Ue,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.orientation&&t[r.orientation]]}})(({ownerState:e})=>f({width:40,flexShrink:0,opacity:.8,[`&.${Vt.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),jt=d.forwardRef(function(t,r){var s,n;const i=ge({props:t,name:"MuiTabScrollButton"}),{className:m,slots:h={},slotProps:b={},direction:g}=i,x=ne(i,Yt),v=_e(),S=f({isRtl:v},i),T=qt(S),A=(s=h.StartScrollButtonIcon)!=null?s:Pt,E=(n=h.EndScrollButtonIcon)!=null?n:Rt,w=le({elementType:A,externalSlotProps:b.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:S}),D=le({elementType:E,externalSlotProps:b.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:S});return u(Kt,f({component:"div",className:F(T.root,m),ref:r,role:null,ownerState:S,tabIndex:null},x,{children:g==="left"?u(A,f({},w)):u(E,f({},D))}))}),Gt=jt;function Qt(e){return ve("MuiTabs",e)}const Jt=Se("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),pe=Jt,Zt=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],Ae=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,Le=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,re=(e,t,r)=>{let s=!1,n=r(e,t);for(;n;){if(n===e.firstChild){if(s)return;s=!0}const i=n.disabled||n.getAttribute("aria-disabled")==="true";if(!n.hasAttribute("tabindex")||i)n=r(e,n);else{n.focus();return}}},eo=e=>{const{vertical:t,fixed:r,hideScrollbar:s,scrollableX:n,scrollableY:i,centered:m,scrollButtonsHideMobile:h,classes:b}=e;return Ce({root:["root",t&&"vertical"],scroller:["scroller",r&&"fixed",s&&"hideScrollbar",n&&"scrollableX",i&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",m&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",h&&"scrollButtonsHideMobile"],scrollableX:[n&&"scrollableX"],hideScrollbar:[s&&"hideScrollbar"]},Qt,b)},to=H("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${pe.scrollButtons}`]:t.scrollButtons},{[`& .${pe.scrollButtons}`]:r.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,r.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>f({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${pe.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),oo=H("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.scroller,r.fixed&&t.fixed,r.hideScrollbar&&t.hideScrollbar,r.scrollableX&&t.scrollableX,r.scrollableY&&t.scrollableY]}})(({ownerState:e})=>f({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),ro=H("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.flexContainer,r.vertical&&t.flexContainerVertical,r.centered&&t.centered]}})(({ownerState:e})=>f({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),lo=H("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>f({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),no=H(Dt)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),ke={},so=d.forwardRef(function(t,r){const s=ge({props:t,name:"MuiTabs"}),n=bt(),i=_e(),{"aria-label":m,"aria-labelledby":h,action:b,centered:g=!1,children:x,className:v,component:S="div",allowScrollButtonsMobile:T=!1,indicatorColor:A="primary",onChange:E,orientation:w="horizontal",ScrollButtonComponent:D=Gt,scrollButtons:P="auto",selectionFollowsFocus:se,slots:_={},slotProps:q={},TabIndicatorProps:X={},TabScrollButtonProps:L={},textColor:J="primary",value:V,variant:R="standard",visibleScrollbar:ae=!1}=s,Qe=ne(s,Zt),I=R==="scrollable",y=w==="vertical",K=y?"scrollTop":"scrollLeft",Z=y?"top":"left",ee=y?"bottom":"right",ie=y?"clientHeight":"clientWidth",j=y?"height":"width",k=f({},s,{component:S,allowScrollButtonsMobile:T,indicatorColor:A,orientation:w,vertical:y,scrollButtons:P,textColor:J,variant:R,visibleScrollbar:ae,fixed:!I,hideScrollbar:I&&!ae,scrollableX:I&&!y,scrollableY:I&&y,centered:g&&!I,scrollButtonsHideMobile:!T}),z=eo(k),Je=le({elementType:_.StartScrollButtonIcon,externalSlotProps:q.startScrollButtonIcon,ownerState:k}),Ze=le({elementType:_.EndScrollButtonIcon,externalSlotProps:q.endScrollButtonIcon,ownerState:k}),[xe,et]=d.useState(!1),[U,we]=d.useState(ke),[ye,tt]=d.useState(!1),[Be,ot]=d.useState(!1),[Te,rt]=d.useState(!1),[Ee,lt]=d.useState({overflow:"hidden",scrollbarWidth:0}),Ie=new Map,W=d.useRef(null),O=d.useRef(null),Me=()=>{const o=W.current;let l;if(o){const a=o.getBoundingClientRect();l={clientWidth:o.clientWidth,scrollLeft:o.scrollLeft,scrollTop:o.scrollTop,scrollLeftNormalized:Wt(o,i?"rtl":"ltr"),scrollWidth:o.scrollWidth,top:a.top,bottom:a.bottom,left:a.left,right:a.right}}let c;if(o&&V!==!1){const a=O.current.children;if(a.length>0){const p=a[Ie.get(V)];c=p?p.getBoundingClientRect():null}}return{tabsMeta:l,tabMeta:c}},G=be(()=>{const{tabsMeta:o,tabMeta:l}=Me();let c=0,a;if(y)a="top",l&&o&&(c=l.top-o.top+o.scrollTop);else if(a=i?"right":"left",l&&o){const C=i?o.scrollLeftNormalized+o.clientWidth-o.scrollWidth:o.scrollLeft;c=(i?-1:1)*(l[a]-o[a]+C)}const p={[a]:c,[j]:l?l[j]:0};if(isNaN(U[a])||isNaN(U[j]))we(p);else{const C=Math.abs(U[a]-p[a]),M=Math.abs(U[j]-p[j]);(C>=1||M>=1)&&we(p)}}),ce=(o,{animation:l=!0}={})=>{l?Ut(K,W.current,o,{duration:n.transitions.duration.standard}):W.current[K]=o},Pe=o=>{let l=W.current[K];y?l+=o:(l+=o*(i?-1:1),l*=i&&Ge()==="reverse"?-1:1),ce(l)},Re=()=>{const o=W.current[ie];let l=0;const c=Array.from(O.current.children);for(let a=0;a<c.length;a+=1){const p=c[a];if(l+p[ie]>o){a===0&&(l=o);break}l+=p[ie]}return l},nt=()=>{Pe(-1*Re())},st=()=>{Pe(Re())},at=d.useCallback(o=>{lt({overflow:null,scrollbarWidth:o})},[]),it=()=>{const o={};o.scrollbarSizeListener=I?u(no,{onChange:at,className:F(z.scrollableX,z.hideScrollbar)}):null;const c=I&&(P==="auto"&&(ye||Be)||P===!0);return o.scrollButtonStart=c?u(D,f({slots:{StartScrollButtonIcon:_.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Je},orientation:w,direction:i?"right":"left",onClick:nt,disabled:!ye},L,{className:F(z.scrollButtons,L.className)})):null,o.scrollButtonEnd=c?u(D,f({slots:{EndScrollButtonIcon:_.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:Ze},orientation:w,direction:i?"left":"right",onClick:st,disabled:!Be},L,{className:F(z.scrollButtons,L.className)})):null,o},We=be(o=>{const{tabsMeta:l,tabMeta:c}=Me();if(!(!c||!l)){if(c[Z]<l[Z]){const a=l[K]+(c[Z]-l[Z]);ce(a,{animation:o})}else if(c[ee]>l[ee]){const a=l[K]+(c[ee]-l[ee]);ce(a,{animation:o})}}}),te=be(()=>{I&&P!==!1&&rt(!Te)});d.useEffect(()=>{const o=He(()=>{W.current&&G()});let l;const c=C=>{C.forEach(M=>{M.removedNodes.forEach(Q=>{var N;(N=l)==null||N.unobserve(Q)}),M.addedNodes.forEach(Q=>{var N;(N=l)==null||N.observe(Q)})}),o(),te()},a=De(W.current);a.addEventListener("resize",o);let p;return typeof ResizeObserver<"u"&&(l=new ResizeObserver(o),Array.from(O.current.children).forEach(C=>{l.observe(C)})),typeof MutationObserver<"u"&&(p=new MutationObserver(c),p.observe(O.current,{childList:!0})),()=>{var C,M;o.clear(),a.removeEventListener("resize",o),(C=p)==null||C.disconnect(),(M=l)==null||M.disconnect()}},[G,te]),d.useEffect(()=>{const o=Array.from(O.current.children),l=o.length;if(typeof IntersectionObserver<"u"&&l>0&&I&&P!==!1){const c=o[0],a=o[l-1],p={root:W.current,threshold:.99},C=ue=>{tt(!ue[0].isIntersecting)},M=new IntersectionObserver(C,p);M.observe(c);const Q=ue=>{ot(!ue[0].isIntersecting)},N=new IntersectionObserver(Q,p);return N.observe(a),()=>{M.disconnect(),N.disconnect()}}},[I,P,Te,x==null?void 0:x.length]),d.useEffect(()=>{et(!0)},[]),d.useEffect(()=>{G()}),d.useEffect(()=>{We(ke!==U)},[We,U]),d.useImperativeHandle(b,()=>({updateIndicator:G,updateScrollButtons:te}),[G,te]);const ze=u(lo,f({},X,{className:F(z.indicator,X.className),ownerState:k,style:f({},U,X.style)}));let oe=0;const ct=d.Children.map(x,o=>{if(!d.isValidElement(o))return null;const l=o.props.value===void 0?oe:o.props.value;Ie.set(l,oe);const c=l===V;return oe+=1,d.cloneElement(o,f({fullWidth:R==="fullWidth",indicator:c&&!xe&&ze,selected:c,selectionFollowsFocus:se,onChange:E,textColor:J,value:l},oe===1&&V===!1&&!o.props.tabIndex?{tabIndex:0}:{}))}),dt=o=>{const l=O.current,c=ft(l).activeElement;if(c.getAttribute("role")!=="tab")return;let p=w==="horizontal"?"ArrowLeft":"ArrowUp",C=w==="horizontal"?"ArrowRight":"ArrowDown";switch(w==="horizontal"&&i&&(p="ArrowRight",C="ArrowLeft"),o.key){case p:o.preventDefault(),re(l,c,Le);break;case C:o.preventDefault(),re(l,c,Ae);break;case"Home":o.preventDefault(),re(l,null,Ae);break;case"End":o.preventDefault(),re(l,null,Le);break}},de=it();return B(to,f({className:F(z.root,v),ownerState:k,ref:r,as:S},Qe,{children:[de.scrollButtonStart,de.scrollbarSizeListener,B(oo,{className:z.scroller,ownerState:k,style:{overflow:Ee.overflow,[y?`margin${i?"Left":"Right"}`:"marginBottom"]:ae?void 0:-Ee.scrollbarWidth},ref:W,children:[u(ro,{"aria-label":m,"aria-labelledby":h,"aria-orientation":w==="vertical"?"vertical":null,className:z.flexContainer,ownerState:k,onKeyDown:dt,ref:O,role:"tablist",children:ct}),xe&&ze]}),de.scrollButtonEnd]}))}),ao=so,io=Xe().shape({password:he().min(4,"Contraseña debe tener al menos 4 caracteres").required("Contraseña es requerida"),password_confirmation:he().required("Es necesario confirmar la Contraseña").oneOf([pt("password")],"Las contraseñas no coinciden")}),co={password:"",password_confirmation:""};function uo({onSubmit:e}){const t=Ye({resolver:Ve(io),defaultValues:co,mode:"onBlur"});return B(qe,{hf:t,onSubmit:e,children:[u(me,{name:"password",control:t.control,render:r=>u($e,{...r,label:"Contraseña"})}),u(me,{name:"password_confirmation",control:t.control,render:r=>u($e,{...r,label:"Confirmar Contraseña"})}),u(Ke,{children:u(je,{children:"Guardar"})})]})}const bo=Xe().shape({email:he().required("Email es requerido").email(),roles:ht().min(1,"Debes elegir al menos un rol").required("Debes elegir al menos un rol")}),fo={email:""};function po({values:e,onSubmit:t}){const r=Ye({resolver:Ve(bo),defaultValues:fo,values:e,mode:"onBlur"});return B(qe,{hf:r,onSubmit:t,children:[u(me,{name:"email",render:s=>u(Mt,{...s,label:"Email"})}),u(Ke,{children:u(je,{children:"Guardar"})})]})}const Bo=()=>{const e=mt(),{enqueueSnackbar:t}=St(),r=vt(),{themeStretch:s}=gt(),[n,i]=d.useState("1"),m=Bt(),h=Tt(),b=Et(Number(e.id)),g=async v=>{await h.mutateAsync({...v,id:Number(e.id)}),t({message:"Password Changed!"}),r(fe.dashboard.adminUsers.list)},x=async v=>{await m.mutateAsync({...v,id:Number(e.id)}),t({message:"User Updated!"}),r(fe.dashboard.adminUsers.list)};return B(Ct,{children:[u(xt,{children:B("title",{children:[" Panel Administrativo | ",wt]})}),B(yt,{maxWidth:s?!1:"lg",children:[u(It,{heading:"Editar - Administradores",links:[{name:"Listado",href:fe.dashboard.adminUsers.list},{name:"Editar"}]}),B(ao,{value:n,onChange:(v,S)=>i(S),children:[u(Fe,{value:"1",label:"Editar Usuario"}),u(Fe,{value:"2",label:"Cambiar Contraseña"})]}),n==="1"&&u(Ne,{sx:{p:3},children:u(po,{onSubmit:x,values:b.data})}),n==="2"&&u(Ne,{sx:{p:3},children:u(uo,{onSubmit:g})})]})]})};export{Bo as AdminUserEditPage,Bo as default};
